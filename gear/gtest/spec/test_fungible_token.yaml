title: Fungible Token

programs:
  - id: 1
    path: fungible_token.wasm
    init_message:
      kind: custom
      value:
        name: GearToken
        symbol: GRT

fixtures:
  - title: fungible-token

    messages:
      - destination: 1
        payload:
          kind: custom
          value:
            mint:
              account: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY
              amount: 10000

      - destination: 1
        payload:
          kind: custom
          value:
            burn:
              account: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY
              amount: 10

      - destination: 1
        payload:
          kind: custom
          value:
            transfer:
              from: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY
              to: 5FHneW46xGXgs5mUiveU4sbTyGBzmstUspZC92UhjJM694ty
              amount: 200
      - destination: 1
        payload:
          kind: custom
          value:
            balanceOf: 0x0400000000000000000000000000000000000000000000000000000000000000

    expected:
      - log:
          - destination: 1000001
            payload:
              kind: custom
              value:
                transfer:
                  from: 0x0000000000000000000000000000000000000000000000000000000000000000
                  to: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY
                  amount: 10000
          - destination: 1000001
            payload:
              kind: custom
              value:
                transfer:
                  from: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY
                  to: 0x0000000000000000000000000000000000000000000000000000000000000000
                  amount: 10
          - destination: 1000001
            payload:
              kind: custom
              value:
                transfer:
                  from: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY
                  to: 5FHneW46xGXgs5mUiveU4sbTyGBzmstUspZC92UhjJM694ty
                  amount: 200
          - destination: 1000001
            payload:
              kind: custom
              value:
                balance: 0
